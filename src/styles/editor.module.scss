@use "./variables" as *;

// Block hover — uses CSS custom property, switches per theme automatically
.content-block,
.headline-block {
  background-color: transparent;

  &:hover {
    background-color: var(--editor-block-hover);
  }
}

.editor {
  :global(.yoopta-block-actions) {
    transform: translateX(-52px) !important;
  }

  --yoopta-font-scale: 1.125;

  /* 기본 디자인 기준값 (필요하면 바꿔도 됨) */
  --yoopta-font-size-base: 1rem; // Paragraph 기준
  --yoopta-font-size-h1: 2.4rem;
  --yoopta-font-size-h2: 2rem;
  --yoopta-font-size-h3: 1.6rem;
  --yoopta-font-size-h4: 1.3rem;
  --yoopta-font-size-h5: 1.1rem;
  --yoopta-font-size-h6: 1rem;

  --yoopta-font-size-small: 0.875rem; // 캡션, 툴팁 등
  --yoopta-line-height-base: 1.6;

  /* 에디터 전체 기본 글자 크기 */
  font-size: calc(var(--yoopta-font-size-base) * var(--yoopta-font-scale));
  line-height: var(--yoopta-line-height-base);

  /* ========== Headings (Yoopta Headings 플러그인) ========== */
  h1 {
    font-size: calc(var(--yoopta-font-size-h1) * var(--yoopta-font-scale));
    font-weight: 700;
    line-height: 1.2;
  }

  h2 {
    font-size: calc(var(--yoopta-font-size-h2) * var(--yoopta-font-scale));
    font-weight: 700;
    line-height: 1.25;
  }

  h3 {
    font-size: calc(var(--yoopta-font-size-h3) * var(--yoopta-font-scale));
    font-weight: 600;
    line-height: 1.3;
  }

  h4 {
    font-size: calc(var(--yoopta-font-size-h4) * var(--yoopta-font-scale));
    font-weight: 600;
  }

  h5 {
    font-size: calc(var(--yoopta-font-size-h5) * var(--yoopta-font-scale));
    font-weight: 600;
  }

  h6 {
    font-size: calc(var(--yoopta-font-size-h6) * var(--yoopta-font-scale));
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  /* ========== Paragraph (Yoopta Paragraph 플러그인) ========== */
  p {
    font-size: calc(var(--yoopta-font-size-base) * var(--yoopta-font-scale));
    line-height: var(--yoopta-line-height-base);
    margin: 0;
  }

  /* ========== Blockquote (Yoopta Blockquote 플러그인) ========== */
  blockquote {
    font-size: calc(var(--yoopta-font-size-base) * var(--yoopta-font-scale));
    line-height: var(--yoopta-line-height-base);
    font-style: italic;
  }

  /* ========== Lists (Yoopta Lists 플러그인) ========== */
  ul,
  ol {
    font-size: calc(var(--yoopta-font-size-base) * var(--yoopta-font-scale));
    line-height: var(--yoopta-line-height-base);
  }

  li {
    font-size: inherit;
    line-height: inherit;
  }

  /* ========== Code Block / Inline Code (Yoopta Code 플러그인) ========== */
  pre,
  code {
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
      "Liberation Mono", "Courier New", monospace;
  }

  pre {
    font-size: calc(0.9rem * var(--yoopta-font-scale));
    line-height: 1.5;
  }

  code {
    font-size: calc(0.9rem * var(--yoopta-font-scale));
  }

  /* ========== Table (Yoopta Table 플러그인) ========== */
  table {
    font-size: calc(0.95rem * var(--yoopta-font-scale));
  }

  th,
  td {
    font-size: inherit;
    line-height: 1.4;
  }

  /* ========== Callout, Caption 등 (Yoopta Callout 등) ========== */
  [data-plugin-id="Callout"] {
    font-size: calc(var(--yoopta-font-size-base) * var(--yoopta-font-scale));
  }

  [data-yoo-caption],
  .yoopta-caption {
    font-size: calc(var(--yoopta-font-size-small) * var(--yoopta-font-scale));
    line-height: 1.4;
  }

  /* ========== 배율 프리셋 (클래스 토글용) ========== */
  &.editor--sm {
    --yoopta-font-scale: 0.9;
  }

  &.editor--lg {
    --yoopta-font-scale: 1.1;
  }

  &.editor--xl {
    --yoopta-font-scale: 1.25;
  }

  /* ========== Placeholder (overrides Yoopta's 75% font-size default) ========== */
  :global(.yoopta-placeholder::after) {
    font-size: 1em;
    padding-left: 0;
    text-indent: 0;
  }

  /* ========== Block action buttons ========== */
  :global(.yoopta-block-action-buttons) {
    svg {
      color: var(--editor-text);
    }
  }

  /* ========== Block options menu ========== */
  :global(.yoopta-block-options-menu-content) {
    background-color: var(--editor-toolbar-bg);
    border: 0.5px solid var(--editor-toolbar-border);
  }

  /* ========== Toolbar root (floating selection toolbar) ========== */
  :global(.yoopta-toolbar-root) {
    background-color: var(--editor-toolbar-bg);
    border: 0.5px solid var(--editor-toolbar-border);

    & button {
      background-color: transparent !important;

      &:hover {
        background: var(--editor-button-hover) !important;
      }
    }
  }

  /* ========== Highlight color picker portal ========== */
  :global(
    div[id^="yoo-highlight-color-portal"]
      > [data-floating-ui-portal]
      div[class^="yoo-toolbar-bg"]
  ) {
    background-color: var(--editor-toolbar-bg);
    border: 0.5px solid var(--editor-toolbar-border);

    & :global(.yoo-toolbar-flex) {
      & > button {
        color: var(--editor-text);

        &:global(.yoo-toolbar-bg-blue-50) {
          background-color: var(--editor-swatch-selected);
          color: var(--editor-text);
        }

        &:hover:global(.yoo-toolbar-text-gray-600) {
          background-color: var(--editor-swatch-hover) !important;
          color: var(--editor-text);
        }
      }
    }

    & :global(.yoo-toolbar-border-t) {
      & > button {
        color: var(--editor-text);
      }
    }

    // Color swatch grid — uses raw neutral-400 since it's a fixed visual border
    & :global(.yoo-toolbar-grid) {
      & > button {
        border: 0.5px solid $neutral-400 !important;
      }
    }
  }

  /* ========== Toolbar (legacy / floating variant) ========== */
  :global(.yoopta-toolbar) {
    background-color: var(--editor-toolbar-bg);
    padding: 4px 8px;
    border: 1px solid var(--editor-toolbar-border);
  }

  :global(.yoopta-toolbar-button) {
    background: transparent;
    padding: 4px 6px;
    color: var(--editor-text);

    &:hover {
      background: var(--editor-button-hover);
    }

    &.is-active {
      background: var(--editor-button-active);
    }
  }

  /* ========== Slash command / action menu ========== */
  :global(.yoopta-action-menu),
  :global(.yoopta-action-menu-list) {
    border: 1px solid var(--editor-menu-border);
    box-shadow: var(--editor-menu-shadow);
    background-color: var(--editor-menu-bg);
  }

  :global(.yoopta-action-menu-list-content) {
    backdrop-filter: none;
    background-color: var(--editor-menu-bg);
    border: 0.5px solid var(--editor-menu-border);

    & button {
      background-color: transparent;
      color: var(--editor-text);

      &[aria-selected="true"] {
        background-color: var(--editor-selected-bg);
        color: var(--editor-selected-text);
      }

      & :global(.yoo-action-menu-flex) {
        background-color: transparent;
        border: 0;
      }

      &:hover:not([aria-selected="true"]) {
        background-color: var(--editor-button-hover);
      }
    }
  }
}

// .headline 은 YooptaEditor 헤드라인 에디터 전용 스타일이었으나
// HeadlineInput(contentEditable) 으로 교체하면서 더 이상 사용하지 않음

.content {
}
